{"ast":null,"code":"import _objectSpread from\"/Users/ted/Desktop/jbook/packages/local-client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/ted/Desktop/jbook/packages/local-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./resizable.css';import{useEffect,useState}from'react';import{ResizableBox}from'react-resizable';import{jsx as _jsx}from\"react/jsx-runtime\";var Resizable=function Resizable(_ref){var direction=_ref.direction,children=_ref.children;var resizableProps;var _useState=useState(window.innerHeight),_useState2=_slicedToArray(_useState,2),innerHeight=_useState2[0],setInnerHeight=_useState2[1];var _useState3=useState(window.innerWidth),_useState4=_slicedToArray(_useState3,2),innerWidth=_useState4[0],setInnerWidth=_useState4[1];var _useState5=useState(window.innerWidth*0.75),_useState6=_slicedToArray(_useState5,2),width=_useState6[0],setWidth=_useState6[1];useEffect(function(){var timer;var listener=function listener(){if(timer){clearTimeout(timer);}timer=setTimeout(function(){setInnerHeight(window.innerHeight);setInnerWidth(window.innerWidth);if(window.innerWidth*0.75<width){setWidth(window.innerWidth*0.75);}},100);};window.addEventListener('resize',listener);return function(){window.removeEventListener('resize',listener);};},[width]);if(direction==='horizontal'){resizableProps={className:'resize-horizontal',minConstraints:[innerWidth*0.2,Infinity],maxConstraints:[innerWidth*0.75,Infinity],height:Infinity,width:width,resizeHandles:['e'],onResizeStop:function onResizeStop(event,data){setWidth(data.size.width);}};}else{resizableProps={minConstraints:[Infinity,24],maxConstraints:[Infinity,innerHeight*0.9],height:300,width:Infinity,resizeHandles:['s']};}return/*#__PURE__*/_jsx(ResizableBox,_objectSpread(_objectSpread({},resizableProps),{},{children:children}));};export default Resizable;","map":{"version":3,"sources":["/Users/ted/Desktop/jbook/packages/local-client/src/components/resizable.tsx"],"names":["useEffect","useState","ResizableBox","Resizable","direction","children","resizableProps","window","innerHeight","setInnerHeight","innerWidth","setInnerWidth","width","setWidth","timer","listener","clearTimeout","setTimeout","addEventListener","removeEventListener","className","minConstraints","Infinity","maxConstraints","height","resizeHandles","onResizeStop","event","data","size"],"mappings":"uQAAA,MAAO,iBAAP,CACA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,YAAT,KAAgD,iBAAhD,C,2CAMA,GAAMC,CAAAA,SAAmC,CAAG,QAAtCA,CAAAA,SAAsC,MAA6B,IAA1BC,CAAAA,SAA0B,MAA1BA,SAA0B,CAAfC,QAAe,MAAfA,QAAe,CACvE,GAAIC,CAAAA,cAAJ,CACA,cAAsCL,QAAQ,CAACM,MAAM,CAACC,WAAR,CAA9C,wCAAOA,WAAP,eAAoBC,cAApB,eACA,eAAoCR,QAAQ,CAACM,MAAM,CAACG,UAAR,CAA5C,yCAAOA,UAAP,eAAmBC,aAAnB,eACA,eAA0BV,QAAQ,CAACM,MAAM,CAACG,UAAP,CAAoB,IAArB,CAAlC,yCAAOE,KAAP,eAAcC,QAAd,eAEAb,SAAS,CAAC,UAAM,CACd,GAAIc,CAAAA,KAAJ,CACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAID,KAAJ,CAAW,CACTE,YAAY,CAACF,KAAD,CAAZ,CACD,CACDA,KAAK,CAAGG,UAAU,CAAC,UAAM,CACvBR,cAAc,CAACF,MAAM,CAACC,WAAR,CAAd,CACAG,aAAa,CAACJ,MAAM,CAACG,UAAR,CAAb,CACA,GAAGH,MAAM,CAACG,UAAP,CAAoB,IAApB,CAA2BE,KAA9B,CAAqC,CACnCC,QAAQ,CAACN,MAAM,CAACG,UAAP,CAAoB,IAArB,CAAR,CACD,CACF,CANiB,CAMf,GANe,CAAlB,CAOD,CAXD,CAYAH,MAAM,CAACW,gBAAP,CAAwB,QAAxB,CAAkCH,QAAlC,EAEA,MAAO,WAAM,CACXR,MAAM,CAACY,mBAAP,CAA2B,QAA3B,CAAqCJ,QAArC,EACD,CAFD,CAGD,CAnBQ,CAmBP,CAACH,KAAD,CAnBO,CAAT,CAqBA,GAAIR,SAAS,GAAK,YAAlB,CAAgC,CAC9BE,cAAc,CAAG,CACfc,SAAS,CAAE,mBADI,CAEfC,cAAc,CAAE,CAACX,UAAU,CAAG,GAAd,CAAmBY,QAAnB,CAFD,CAGfC,cAAc,CAAE,CAACb,UAAU,CAAG,IAAd,CAAoBY,QAApB,CAHD,CAIfE,MAAM,CAAEF,QAJO,CAKfV,KAAK,CAALA,KALe,CAMfa,aAAa,CAAE,CAAC,GAAD,CANA,CAOfC,YAAY,CAAE,sBAACC,KAAD,CAAQC,IAAR,CAAiB,CAC7Bf,QAAQ,CAACe,IAAI,CAACC,IAAL,CAAUjB,KAAX,CAAR,CACD,CATc,CAAjB,CAWD,CAZD,IAYO,CACLN,cAAc,CAAG,CACfe,cAAc,CAAE,CAACC,QAAD,CAAW,EAAX,CADD,CAEfC,cAAc,CAAE,CAACD,QAAD,CAAWd,WAAW,CAAG,GAAzB,CAFD,CAGfgB,MAAM,CAAE,GAHO,CAIfZ,KAAK,CAAEU,QAJQ,CAKfG,aAAa,CAAE,CAAC,GAAD,CALA,CAAjB,CAOD,CAED,mBAAO,KAAC,YAAD,gCAAkBnB,cAAlB,eAAmCD,QAAnC,GAAP,CACD,CAlDD,CAoDA,cAAeF,CAAAA,SAAf","sourcesContent":["import './resizable.css';\nimport { useEffect, useState } from 'react';\nimport { ResizableBox, ResizableBoxProps } from 'react-resizable';\n\ninterface ResizableProps {\n  direction: 'horizontal' | 'vertical';\n}\n\nconst Resizable: React.FC<ResizableProps> = ({ direction, children }) => {\n  let resizableProps: ResizableBoxProps;\n  const [innerHeight, setInnerHeight] = useState(window.innerHeight);\n  const [innerWidth, setInnerWidth] = useState(window.innerWidth);\n  const [width, setWidth] = useState(window.innerWidth * 0.75);\n\n  useEffect(() => {\n    let timer: any;\n    const listener = () => {\n      if (timer) {\n        clearTimeout(timer)\n      }\n      timer = setTimeout(() => {\n        setInnerHeight(window.innerHeight);\n        setInnerWidth(window.innerWidth);\n        if(window.innerWidth * 0.75 < width) {\n          setWidth(window.innerWidth * 0.75)\n        }\n      }, 100)\n    };\n    window.addEventListener('resize', listener);\n\n    return () => {\n      window.removeEventListener('resize', listener)\n    }\n  },[width])\n\n  if (direction === 'horizontal') {\n    resizableProps = {\n      className: 'resize-horizontal',\n      minConstraints: [innerWidth * 0.2, Infinity],\n      maxConstraints: [innerWidth * 0.75, Infinity],\n      height: Infinity,\n      width,\n      resizeHandles: ['e'],\n      onResizeStop: (event, data) => {\n        setWidth(data.size.width)\n      }\n    };\n  } else {\n    resizableProps = {\n      minConstraints: [Infinity, 24],\n      maxConstraints: [Infinity, innerHeight * 0.9],\n      height: 300,\n      width: Infinity,\n      resizeHandles: ['s'],\n    };\n  }\n\n  return <ResizableBox {...resizableProps}>{children}</ResizableBox>;\n};\n\nexport default Resizable;\n"]},"metadata":{},"sourceType":"module"}